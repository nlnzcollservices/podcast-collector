import sys
sys.path.insert(0, r"Y:\ndha\pre-deposit_prod\LD_working\alma_tools")
from alma_tools import AlmaTools
import re

data = [
    [23405107130002836, 22405097090002836, 9919355932502836],
    [23403267910002836, 22403207440002836, 9919353435802836],
    [23403207400002836, 22403207420002836, 9919353435702836],
    [23403207390002836, 22403267900002836, 9919353535802836],
    [23393274310002836, 22393261930002836, 9919285535802836],
    [23392216310002836, 22392216330002836, 9919281035802836],
    [23390940870002836, 22390940890002836, 9919264635802836],
    [23386679360002836, 22386679380002836, 9919245935802836],
    [23386679350002836, 22386699280002836, 9919245935702836],
    [23384731780002836, 22384731800002836, 9919200979102836],
    [23384731770002836, 22384695980002836, 9919200878602836],
    [23384695960002836, 22384731760002836, 9919200979002836],
    [23384695930002836, 22384695950002836, 9919200878502836],
    [23381562780002836, 22381632830002836, 9919200978902836],
    [23372572150002836, 22372559130002836, 9919136286802836],
    [23368821400002836, 22368821420002836, 9919115410402836],
    [23362561890002836, 22362572190002836, 9919067932302836],
    [23348811840002836, 22348765410002836, 9918980973602836]
]


new_po_line = "POL-220980"

at = AlmaTools("prod")
for row in data:
	mms = row[2]
	hold = row[1]
	item = row[0]
	at.get_item(mms, hold, item)
	#print(at.xml_response_data)
	old_pol = re.findall(r"<po_line>(.*?)</po_line>",at.xml_response_data)[0]
	print(old_pol)
	new_data = at.xml_response_data.replace(old_pol,new_po_line)
	at.update_item(mms, hold, item, new_data)
	print(at.xml_response_data)

